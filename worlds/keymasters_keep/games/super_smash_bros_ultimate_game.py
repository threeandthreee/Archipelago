from __future__ import annotations

import functools
from typing import List

from dataclasses import dataclass

from Options import OptionSet, Toggle

from ..game import Game
from ..game_objective_template import GameObjectiveTemplate

from ..enums import KeymastersKeepGamePlatforms


@dataclass
class SuperSmashBrosUltimateArchipelagoOptions:
    super_smash_bros_ultimate_dlc_owned: SuperSmashBrosUltimateDLCOwned
    super_smash_bros_ultimate_include_spirit_battles: SuperSmashBrosUltimateIncludeSpiritBattles
    super_smash_bros_ultimate_include_boss_battles: SuperSmashBrosUltimateIncludeBossBattles


class SuperSmashBrosUltimateGame(Game):
    name = "Super Smash Bros. Ultimate"
    platform = KeymastersKeepGamePlatforms.SW

    platforms_other = None

    is_adult_only_or_unrated = False

    options_cls = SuperSmashBrosUltimateArchipelagoOptions

    def optional_game_constraint_templates(self) -> List[GameObjectiveTemplate]:
        return [
            GameObjectiveTemplate(
                label="Select CPU Level LEVEL (when applicable)",
                data={
                    "LEVEL": (self.cpu_level_range, 1),
                },
            ),
            GameObjectiveTemplate(
                label="Play without secondary spirits (when applicable)",
                data=dict(),
            ),
            GameObjectiveTemplate(
                label="Select Intensity INTENSITY (when applicable)",
                data={
                    "INTENSITY": (self.intensity_range, 1),
                },
            ),
            GameObjectiveTemplate(
                label="Don't Continue (when applicable)",
                data=dict(),
            ),
            GameObjectiveTemplate(
                label="Get at least 200 Km (when applicable)",
                data=dict(),
            ),
            GameObjectiveTemplate(
                label="Play on DIFFICULTY difficulty (when applicable)",
                data={
                    "DIFFICULTY": (self.boss_battle_difficulties, 1),
                },
            ),
            GameObjectiveTemplate(
                label="Play with competitive settings (No Items, 3 Stocks) (when applicable)",
                data=dict(),
            ),
            GameObjectiveTemplate(
                label="Play with assist trophies active (when applicable)",
                data=dict(),
            ),
            GameObjectiveTemplate(
                label="Play with Pokeballs and Master Balls active (when applicable)",
                data=dict(),
            ),
            GameObjectiveTemplate(
                label="Play with all items active (when applicable)",
                data=dict(),
            ),
        ]

    def game_objective_templates(self) -> List[GameObjectiveTemplate]:
        templates: List[GameObjectiveTemplate] = [
            GameObjectiveTemplate(
                label="Win a 1 vs 1 Smash MODE as CHARACTER against OPPONENT in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENT": (self.characters, 1),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=3,
            ),
            GameObjectiveTemplate(
                label="Win a Free For All MODE as CHARACTER against OPPONENTS in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENTS": (self.characters, 3),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=3,
            ),
            GameObjectiveTemplate(
                label="Win a Free For All 8 Character MODE as CHARACTER against OPPONENTS in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENTS": (self.characters, 7),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a Team Battle MODE with a team of CHARACTERS against OPPONENTS in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTERS": (self.characters, 2),
                    "OPPONENTS": (self.characters, 2),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=3,
            ),
            GameObjectiveTemplate(
                label="Win a Team Battle MODE as CHARACTER against OPPONENTS in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENTS": (self.characters, 3),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a Team Battle MODE with a team of CHARACTERS against OPPONENTS in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTERS": (self.characters, 4),
                    "OPPONENTS": (self.characters, 4),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a 1 vs 1 Special Smash MODE as CHARACTER against OPPONENT with Custom Setting 'SETTING' in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENT": (self.characters, 1),
                    "SETTING": (self.custom_battle_settings, 1),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=3,
            ),
            GameObjectiveTemplate(
                label="Win a Free For All Special Smash MODE as CHARACTER against OPPONENTS with Custom Setting 'SETTING' in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENTS": (self.characters, 3),
                    "SETTING": (self.custom_battle_settings, 1),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a Team Battle MODE with a team of CHARACTERS against OPPONENTS with Custom Setting 'SETTING' in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTERS": (self.characters, 2),
                    "OPPONENTS": (self.characters, 2),
                    "SETTING": (self.custom_battle_settings, 1),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a 1 vs 1 Smash MODE as CHARACTER against OPPONENT using Stage Morph in STAGES",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENT": (self.characters, 1),
                    "STAGES": (self.stages, 2),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a Team Battle MODE as CHARACTER against OPPONENTS in STAGE",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                    "CHARACTER": (self.characters, 1),
                    "OPPONENTS": (self.characters, 5),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=True,
                weight=1,
            ),
            GameObjectiveTemplate(
                label="Win a Free For All 6 Character MODE in a Random Stage with Every Character being Random",
                data={
                    "MODE": (self.vs_battle_modes, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Win a Super Sudden Death Free For All as CHARACTER against OPPONENTS in STAGE",
                data={
                    "CHARACTER": (self.characters, 1),
                    "OPPONENTS": (self.characters, 3),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=True,
                weight=1,
            ),
            GameObjectiveTemplate(
                label="Win a 3 Character Squad Strike as CHARACTERS against OPPONENTS in STAGE",
                data={
                    "CHARACTERS": (self.characters, 3),
                    "OPPONENTS": (self.characters, 3),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=3,
            ),
            GameObjectiveTemplate(
                label="Win a 5 Character Squad Strike as CHARACTERS against OPPONENTS in STAGE",
                data={
                    "CHARACTERS": (self.characters, 5),
                    "OPPONENTS": (self.characters, 5),
                    "STAGE": (self.stages, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=2,
            ),
            GameObjectiveTemplate(
                label="Complete MODE as CHARACTER",
                data={
                    "MODE": (self.singleplayer_modes, 1),
                    "CHARACTER": (self.characters, 1),
                },
                is_time_consuming=False,
                is_difficult=False,
                weight=3,
            ),
        ]

        if self.include_spirit_battles:
            templates.append(
                GameObjectiveTemplate(
                    label="As CHARACTER, complete the following Spirit Battle: SPIRIT",
                    data={
                        "CHARACTER": (self.characters, 1),
                        "SPIRIT": (self.spirit_battles, 1),
                    },
                    is_time_consuming=False,
                    is_difficult=False,
                    weight=3,
                ),
            )

        if self.include_boss_battles:
            templates.append(
                GameObjectiveTemplate(
                    label="Defeat BOSS as CHARACTER",
                    data={
                        "BOSS": (self.bosses, 1),
                        "CHARACTER": (self.characters, 1),
                    },
                    is_time_consuming=False,
                    is_difficult=False,
                    weight=2,
                ),
            )

        return templates

    @property
    def dlc_owned(self) -> List[str]:
        return sorted(self.archipelago_options.super_smash_bros_ultimate_dlc_owned.value)

    @property
    def has_dlc_fighter_pass_1(self) -> bool:
        return "Fighter Pass 1" in self.dlc_owned

    @property
    def has_dlc_fighter_pass_2(self) -> bool:
        return "Fighter Pass 2" in self.dlc_owned

    @property
    def include_spirit_battles(self) -> bool:
        return bool(self.archipelago_options.super_smash_bros_ultimate_include_spirit_battles.value)

    @property
    def include_boss_battles(self) -> bool:
        return bool(self.archipelago_options.super_smash_bros_ultimate_include_boss_battles.value)

    @functools.cached_property
    def characters_base(self) -> List[str]:
        return [
            "Mario",
            "Donkey Kong",
            "Link",
            "Samus",
            "Dark Samus",
            "Yoshi",
            "Kirby",
            "Fox",
            "Pikachu",
            "Luigi",
            "Ness",
            "Captain Falcon",
            "Jigglypuff",
            "Peach",
            "Daisy",
            "Bowser",
            "Ice Climbers",
            "Sheik",
            "Zelda",
            "Dr. Mario",
            "Pichu",
            "Falco",
            "Marth",
            "Lucina",
            "Young Link",
            "Ganondorf",
            "Mewtwo",
            "Roy",
            "Chrom",
            "Mr. Game & Watch",
            "Meta Knight",
            "Pit",
            "Dark Pit",
            "Zero Suit Samus",
            "Wario",
            "Snake",
            "Ike",
            "Pokémon Trainer",
            "Diddy Kong",
            "Lucas",
            "Sonic",
            "King Dedede",
            "Olimar",
            "Lucario",
            "R.O.B.",
            "Toon Link",
            "Wolf",
            "Villager",
            "Mega Man",
            "Wii Fit Trainer",
            "Rosalina & Luma",
            "Little Mac",
            "Greninja",
            "Mii Swordfighter",
            "Mii Brawler",
            "Mii Gunner",
            "Palutena",
            "Pac-Man",
            "Robin",
            "Shulk",
            "Bowser Jr.",
            "Duck Hunt",
            "Ryu",
            "Ken",
            "Cloud",
            "Corrin",
            "Bayonetta",
            "Inkling",
            "Ridley",
            "Simon",
            "Richter",
            "King K. Rool",
            "Isabelle",
            "Incineroar",
        ]

    @functools.cached_property
    def characters_fighter_pass_1(self) -> List[str]:
        return [
            "Piranha Plant",
            "Joker",
            "Hero",
            "Banjo & Kazooie",
            "Terry",
            "Byleth",
        ]

    @functools.cached_property
    def characters_fighter_pass_2(self) -> List[str]:
        return [
            "Min Min",
            "Steve",
            "Sephiroth",
            "Pyra/Mythra",
            "Kazuya",
            "Sora",
        ]

    def characters(self) -> List[str]:
        characters: List[str] = self.characters_base[:]

        if self.has_dlc_fighter_pass_1:
            characters.extend(self.characters_fighter_pass_1)

        if self.has_dlc_fighter_pass_2:
            characters.extend(self.characters_fighter_pass_2)

        return sorted(characters)

    @functools.cached_property
    def stages_base(self) -> List[str]:
        return [
            "Battlefield",
            "Small Battlefield",
            "Big Battlefield",
            "Final Destination",
            "New Donk City Hall",
            "Great Plateau Tower",
            "Moray Towers",
            "Dracula's Castle",
            "Peach's Castle 64",
            "Kongo Jungle 64",
            "Hyrule Castle 64",
            "Super Happy Tree 64",
            "Dream Land 64",
            "Saffron City 64",
            "Mushroom Kingdom 64",
            "Princess Peach's Castle",
            "Rainbow Cruise",
            "Kongo Falls",
            "Jungle Japes",
            "Great Bay",
            "Temple",
            "Brinstar",
            "Yoshi's Island (Melee)",
            "Yoshi's Story",
            "Fountain of Dreams",
            "Green Greens",
            "Corneria",
            "Venom",
            "Pokémon Stadium",
            "Onett",
            "Mushroom Kingdom II",
            "Brinstar Depths",
            "Big Blue",
            "Fourside",
            "Delfino Plaza",
            "Mushroomy Kingdom",
            "Figure-8 Circuit",
            "WarioWare, Inc.",
            "Bridge of Eldin",
            "Norfair",
            "Frigate Opheon",
            "Yoshi's Island (Brawl)",
            "Halberd",
            "Lylat Cruise",
            "Pokémon Stadium 2",
            "Port Town Aero Drive",
            "Castle Siege",
            "Distant Planet",
            "Smashville",
            "New Pork City",
            "Summit",
            "Skyworld",
            "Shadow Moses Island",
            "Luigi's Mansion",
            "Pirate Ship",
            "Spear Pillar",
            "75m",
            "Mario Bros.",
            "Hanenbow",
            "Green Hill Zone",
            "Boxing Ring",
            "Gaur Plain",
            "Duck Hunt",
            "Wily Castle",
            "Super Mario Maker",
            "Suzaku Castle",
            "Midgar",
            "Umbra Clock Tower",
            "3D Land",
            "Golden Plains",
            "Paper Mario",
            "Gerudo Valley",
            "Spirit Train",
            "Dream Land GB",
            "Unova Pokémon League",
            "Prism Tower",
            "Mute City SNES",
            "Magicant",
            "Arena Ferox",
            "Reset Bomb Forest",
            "Tortime Island",
            "Balloon Fight",
            "Living Room",
            "Find Mii",
            "Tomodachi Life",
            "PictoChat 2",
            "Mushroom Kingdom U",
            "Mario Galaxy",
            "Mario Circuit",
            "Skyloft",
            "The Great Cave Offensive",
            "Kalos Pokémon League",
            "Coliseum",
            "Flat Zone X",
            "Palutena's Temple",
            "Gamer",
            "Garden of Hope",
            "Town and City",
            "Wii Fit Studio",
            "Wrecking Crew",
            "Pilotwings",
            "Wuhu Island",
            "Windy Hill Zone",
            "Pac-Land",
        ]

    @functools.cached_property
    def stages_fighter_pass_1(self) -> List[str]:
        return [
            "Mementos",
            "Yggdrasil's Altar",
            "Spiral Mountain",
            "King of Fighters Stadium",
            "Garreg Mach Monastery",
        ]

    @functools.cached_property
    def stages_fighter_pass_2(self) -> List[str]:
        return [
            "Spring Stadium",
            "Minecraft World",
            "Northern Cave",
            "Cloud Sea of Alrest",
            "Mishima Dojo",
            "Hollow Bastion",
        ]

    def stages(self) -> List[str]:
        stages: List[str] = self.stages_base[:]

        if self.has_dlc_fighter_pass_1:
            stages.extend(self.stages_fighter_pass_1)

        if self.has_dlc_fighter_pass_2:
            stages.extend(self.stages_fighter_pass_2)

        return sorted(stages)

    @staticmethod
    def cpu_level_range() -> range:
        return range(1, 10)

    @staticmethod
    def intensity_range() -> List[float]:
        return [round(x / 10.0, 1) for x in range(0, 51)]

    @staticmethod
    def singleplayer_modes() -> List[str]:
        return [
            "Classic Mode",
            "Century Smash",
            "All-Star Smash",
            "Home-Run Contest",
        ]

    @staticmethod
    def boss_battles() -> List[str]:
        return [
            "Galeem",
            "Darkhon",
        ]

    @staticmethod
    def final_boss_battles() -> List[str]:
        return [
            "Galeem + Darkhon",
        ]

    def bosses(self) -> List[str]:
        return sorted(self.boss_battles() + self.final_boss_battles())

    @staticmethod
    def vs_battle_modes() -> List[str]:
        return [
            "Time Battle",
            "Stock Battle",
            "Stamina Battle",
        ]

    @staticmethod
    def custom_battle_settings() -> List[str]:
        return [
            "Mega",
            "Mini",
            "Flower",
            "Bunny",
            "Metal",
            "Clear",
            "Tail",
            "Rocket Belt",
            "Screw Attack",
            "Back Shield",
            "Curry",
            "Reflect",
            "Light",
            "Heavy",
            "Slow",
            "Fast",
            "Fixed",
            "Angled",
        ]

    @functools.cached_property
    def spirit_battles_base(self) -> List[str]:
        return [
            "Super Star",
            "Metal Mario",
            "Boo Mario",
            "Rock Mario",
            "Fox Luigi",
            "Flying Squirrel Toad",
            "Baby Peach",
            "Peach (Wedding)",
            "Bowser (Wedding)",
            "Toad",
            "Toadette",
            "Toadsworth",
            "Waluigi",
            "Goomba",
            "Koopa Troopa",
            "Hammer Bro",
            "Lakitu & Spiny",
            "Blooper",
            "Bullet Bill",
            "Shy Guy",
            "Pidgit",
            "Mouser",
            "Wart",
            "Boo",
            "Bob-omb",
            "Chain Chomp",
            "Nipper Plant",
            "Boom Boom",
            "Tatanga",
            "Hothead",
            "Chargin' Chuck",
            "Wiggler",
            "Kamek",
            "Mechakoopa",
            "Dry Bowser",
            "Big Urchin",
            "King Bob-omb",
            "Shine Sprite",
            "Piantas",
            "Shadow Mario",
            "Luma",
            "Hungry Luma",
            "Honey Queen",
            "Lubba",
            "Starship Mario",
            "Plessie",
            "Cappy",
            "Pauline",
            "The Odyssey",
            "Goo-Goo Buggy",
            "Barrel Train",
            "B Dasher",
            "Standard Kart",
            "Standard Bike",
            "Cheep Charger",
            "Mach 8",
            "Biddybuggy",
            "Badwagon",
            "Paper Bowser",
            "Kammy Koopa",
            "Vivian",
            "Mr. L",
            "Dimentio",
            "Huey",
            "Mallow",
            "Geno",
            "Prince Peasley",
            "Fawful",
            "Princess Shroob",
            "Starlow",
            "Broque Monsieur",
            "Dreambert",
            "Antasma",
            "Sidestepeer",
            "Freezie",
            "Eggplant Man",
            "Viruses",
            "Flies & Hand",
            "Wanda",
            "Kid",
            "Poltergust 500",
            "Polterpup",
            "Perry",
            "Waluigi (Super Mario Strikers)",
            "Petey Piranha (Super Mario Strikers)",
            "MC Ballyhoo & Big Top",
            "Rabbid Peach",
            "Rabbid Mario",
            "Rabbid Kong",
            "Mario (Mario Tennis Aces)",
            "Luigi (Mario Tennis Aces)",
            "Donkey Kong & Lady",
            "Donkey Kong Jr.",
            "Stanley",
            "Cranky Kong",
            "Funky Kong",
            "Candy Kong",
            "Swanky Kong",
            "Wrinkly Kong",
            "Dixie Kong",
            "Lanky Kong",
            "Tiny Kong",
            "Chunky Kong",
            "Rambi",
            "Enguarde",
            "Squawks",
            "Expresso",
            "Winky",
            "Squitter",
            "Rattly",
            "Ellie",
            "Professor Chops",
            "Kritter",
            "Zinger",
            "Klaptrap",
            "Kaptain K. Rool",
            "Tiki Tak Tribe",
            "Lord Fredrik",
            "Kip",
            "Kalypso",
            "Karate Kong",
            "Ninja Kong",
            "Link (The Legend of Zelda)",
            "Octorok",
            "Moblin",
            "Tektite",
            "Like Like",
            "Darknut",
            "Fairy Bottle",
            "Agahnim",
            "Cucco",
            "Marin",
            "Wind Fish",
            "Young Zelda",
            "Saria",
            "Impa (Ocarina of Time)",
            "Kaepora Gaebora",
            "Malon",
            "Goron",
            "Darunia",
            "Zora",
            "Great Fairy",
            "Koume & Kotake",
            "ReDead",
            "Skull Kid",
            "Deku Link",
            "Fierce Deity Link",
            "Tingle",
            "Happy Mask Salesman",
            "Kafei",
            "Postman",
            "Din",
            "Nayru",
            "Ricky",
            "Dimitri (The Legend of Zelda)",
            "Moosh",
            "Ganondorf (Twilight Princess)",
            "Midna",
            "Zant",
            "Agitha",
            "King Bulblin & Lord Bullbo",
            "Fi",
            "Ghirahim",
            "The Imprisoned",
            "Loftwing",
            "Groose",
            "Wall-Merged Link",
            "Ravio",
            "Hilda (The Legend of Zelda)",
            "Yuga",
            "Zelda (Breath of the Wild)",
            "Mipha",
            "Daruk",
            "Revali",
            "Urbosa",
            "Calamity Ganon",
            "Bokoblin",
            "Guardian",
            "Tetra",
            "Aryll",
            "Medli",
            "Valoo",
            "Beedle",
            "Fishman",
            "Vaati",
            "Ezlo",
            "Linebeck",
            "Phantom",
            "Alfonzo & Engineer Link",
            "Byrne",
            "Totem Link",
            "Madame Couture",
            "Gravity Suit",
            "Young Samus",
            "Geemer",
            "Chozo Statue",
            "Metroid",
            "Mother Brain",
            "Queen Metroid",
            "Zebesian",
            "Kraid",
            "Phantoon",
            "X Parasite",
            "Mecha Ridley",
            "Adam Malkovich",
            "Little Birdie",
            "Diggernaut",
            "Omega Ridley",
            "Parasite Queen",
            "Kanden",
            "Trace",
            "Gandrayda",
            "Baby Mario",
            "Baby Bowser",
            "Toadies",
            "Crazee Dayzee",
            "Tap-Tap",
            "Bandit",
            "Slugger & Green Glove",
            "Little Mouser",
            "Grim Leecher",
            "Roger the Potted Ghost",
            "Burt the Bashful",
            "Raphael the Raven",
            "Pak E. Derm",
            "Blargg",
            "Don Bongo",
            "Hongo",
            "Spirit Who Loves Surprises",
            "Ukiki",
            "Yarn Yoshi",
            "Yarn Poochy",
            "Star Rod",
            "Robobot Armor",
            "Dragoon",
            "Rick",
            "Kine",
            "Coo",
            "Gooey",
            "Nago",
            "Pitch",
            "ChuChu",
            "Whispy Woods",
            "Kracko",
            "Nightmare's Power Orb",
            "Dark Matter",
            "Gryll",
            "Heavy Lobster",
            "Moley",
            "Dark Mind",
            "Magolor",
            "Landia",
            "Susie",
            "The Three Mage-Sisters",
            "Waddle Dee",
            "Waddle Doo",
            "Bronto Burt",
            "Poppy Bros. Jr.",
            "Gordo",
            "Scarfy",
            "Rocky",
            "Bomber",
            "Bugzzy",
            "Bonkers",
            "Mr. Frosty",
            "Meta-Knights",
            "Plasma Wisp",
            "Tac",
            "Chef Kawasaki",
            "Knuckle Joe",
            "Prince Fluff",
            "Elline",
            "Slippy Toad",
            "Peppy Hare",
            "Krystal",
            "ROB 64",
            "James McCloud",
            "Landmaster",
            "Gyrowing",
            "Leon Powalski",
            "Pigma Dengar",
            "Andrew Oikonny",
            "Panther Caroso",
            "Wolfen",
            "Andross (Star Fox 64 3D)",
            "Aparoid",
            "General Pepper",
            "Tricky",
            "Dash Bowman",
            "Venusaur",
            "Charmander",
            "Mega Charizard X",
            "Blastoise",
            "Metapod",
            "Pidgey",
            "Arbok",
            "Alolan Raichu",
            "Sandshrew",
            "Clefairy",
            "Vulpix",
            "Alolan Vulpix",
            "Dugtrio",
            "Meowth",
            "Psyduck",
            "Arcanine",
            "Abra",
            "Machamp",
            "Geodude",
            "Rapidash",
            "Slowpoke",
            "Magneton",
            "Farfetch'd",
            "Gengar",
            "Electrode",
            "Alolan Exeggutor",
            "Cubone",
            "Hitmonlee",
            "Weezing",
            "Chansey",
            "Kangaskhan",
            "Goldeen",
            "Staryu",
            "Pinsir",
            "Tauros",
            "Gyarados",
            "Lapras",
            "Ditto",
            "Eevee",
            "Porygon",
            "Snorlax",
            "Articuno, Zapdos, & Moltres",
            "Dragonite",
            "Mega Mewtwo Y",
            "Mew",
            "Chikorita",
            "Ampharos",
            "Bellossom",
            "Marill",
            "Sudowoodo",
            "Wooper",
            "Unown",
            "Wobbuffet",
            "Steelix",
            "Heracross",
            "Skarmory",
            "Houndoom",
            "Smeargle",
            "Miltank",
            "Raikou, Entei, & Suicune",
            "Tyranitar",
            "Lugia",
            "Ho-Oh",
            "Celebi",
            "Blaziken",
            "Gardevoir",
            "Shedinja",
            "Flygon",
            "Milotic",
            "Absol",
            "Salamence",
            "Metagross",
            "Latias & Latios",
            "Kyogre",
            "Groudon",
            "Rayquaza",
            "Deoxys (Normal Forme)",
            "Piplup",
            "Garchomp",
            "Mega Lucario",
            "Abomasnow",
            "Rotom",
            "Uxie, Mesprit, & Azelf",
            "Dialga",
            "Palkia",
            "Regigigas",
            "Giratina (Altered Forme)",
            "Cresselia",
            "Manaphy",
            "Darkrai",
            "Shaymin (Land Forme)",
            "Arceus",
            "Victini",
            "Oshawott",
            "Zoroark",
            "Chandelure",
            "Hydreigon",
            "Cobalion, Terrakion, & Virizion",
            "Tornadus (Incarnate Forme)",
            "Thundurus (Incarnate Forme)",
            "Reshiram",
            "Zekrom",
            "Landorus (Therian Forme)",
            "Kyurem",
            "Keldeo (Ordinary Form)",
            "Meloetta (Aria Forme)",
            "Genesect",
            "Chespin",
            "Aegislash",
            "Inkay",
            "Dedenne",
            "Xerneas",
            "Yveltal",
            "Zygarde (50% Forme)",
            "Diancie",
            "Hoopa (Confined)",
            "Volcanion",
            "Rowlet",
            "Bewear",
            "Pyukumuku",
            "Togedemaru",
            "Mimikyu",
            "Tapu Koko",
            "Solgaleo",
            "Lunala",
            "Nihilego",
            "Necrozma",
            "Magearna",
            "Detective Pikachu",
            "Ninten",
            "Ana",
            "Lloyd",
            "Teddy",
            "EVE",
            "Flying Man",
            "Starman",
            "Paula",
            "Jeff",
            "Poo",
            "Buzz Buzz",
            "Ness's Father",
            "Dungeon Man",
            "Ramblin' Evil Mushroom",
            "Master Belch",
            "Flint",
            "Hinawa",
            "Boney",
            "Duster",
            "Kumatora",
            "Salsa",
            "Masked Man",
            "Claus",
            "Dr. Stewart",
            "Pico",
            "Jody Summer",
            "Mighty Gazelle",
            "Baba",
            "Octoman",
            "Mr. EAD",
            "Bio Rex",
            "Blood Falcon",
            "Jack Levin",
            "Zoda",
            "Black Shadow",
            "The Skull",
            "Condor",
            "Polar Bear",
            "Caeda",
            "Jagen",
            "Draug",
            "Wrys",
            "Bord & Cord & Barst",
            "Navarre",
            "Merric",
            "Minerva",
            "Linde",
            "Pegasus Sisters",
            "Tiki",
            "Nyna",
            "Camus",
            "Medeus",
            "Gharnef",
            "Alm & Celica (Young)",
            "Sigurd",
            "Deirdre",
            "Seliph",
            "Leif (Fire Emblem)",
            "Julius",
            "Lilina",
            "Lyn",
            "Eliwood",
            "Hector (Fire Emblem)",
            "Raven",
            "Ninian",
            "Karel",
            "Nino",
            "Eirika",
            "L'Arachel",
            "Lyon",
            "Titania",
            "Soren",
            "Mist",
            "Sothe",
            "Elincia",
            "Ashnard",
            "Zelgius",
            "Lissa",
            "Lon'qu",
            "Tharja",
            "Anna",
            "Gangrel",
            "Walhart",
            "Owain",
            "Severa",
            "Azura",
            "Jakob",
            "Ryoma",
            "Hinoka",
            "Takumi",
            "Sakura (Fire Emblem)",
            "Camilla",
            "Leo",
            "Elise",
            "Garon",
            "Tsubasa Oribe",
            "Ball",
            "Flagman",
            "Fire",
            "Judge",
            "Manhole",
            "Lion",
            "Turtle Bridge",
            "Fire Attack",
            "Oil Panic",
            "Centurion",
            "Three Sacred Treasures",
            "Medusa",
            "Twinbellows",
            "Hewdraw",
            "Pandora",
            "Thanatos",
            "Hades",
            "Specknose",
            "Reaper & Reapette",
            "Eggplant Wizard",
            "Pseudo-Palutena",
            "Viridi",
            "Lurchthorn",
            "Magnus",
            "Dyntos",
            "Mimicutie",
            "9-Volt & 18-Volt",
            "Dribble & Spitz",
            "Kat & Ana",
            "Dr. Crygor",
            "Orbulon",
            "Wario-Man",
            "Ashley",
            "Young Cricket",
            "5-Volt",
            "Pyoro",
            "Fronks",
            "Captain Syrup",
            "Princess Shokora",
            "Count Cannoli",
            "Shake King",
            "Liquid Snake",
            "Gray Fox",
            "Hal Emmerich",
            "Roy Campbell",
            "Meryl Silverburgh",
            "Mei Ling",
            "Solidus Snake",
            "Rosemary",
            "Naked Snake",
            "The Boss",
            "EVA",
            "Revolver Ocelot (Metal Gear Solid 3)",
            "Zero (Metal Gear Solid 3)",
            "Kazuhira Miller",
            "Paz Ortega Andrade",
            "Strangelove",
            "Metal Gear REX",
            "Metal Gear RAY",
            "Gekko",
            "Metal Gear ZEKE",
            "Dr. Eggman",
            "Tails",
            "Super Sonic",
            "Amy",
            "Metal Sonic",
            "Chaotix",
            "Big the Cat",
            "Gamma",
            "Chaos",
            "Chao",
            "Shadow the Hedgehog",
            "Rouge the Bat",
            "Cream & Cheese",
            "Omega",
            "Blaze the Cat",
            "Silver the Hedgehog",
            "Sonic the Werehog",
            "Infinite",
            "Charlie",
            "Brittany",
            "Red Pikmin",
            "Blue Pikmin",
            "Yellow Pikmin",
            "White Pikmin",
            "Purple Pikmin",
            "Winged Pikmin",
            "Rock Pikmin",
            "Bulborb",
            "Emperor Bulblax",
            "Burrowing Snagret",
            "Fiery Blowhog",
            "Smoky Progg",
            "Swooping Snitchbug",
            "Iridescent Glint Beetle",
            "Yellow Wollywog",
            "Peckish Aristocrab",
            "Mockiwi",
            "Gyromite",
            "Tom Nook",
            "Timmy & Tommy",
            "DJ K.K.",
            "Don",
            "Rover",
            "Redd",
            "Gracie",
            "Gulliver",
            "Phyllis & Pelly",
            "Copper & Booker",
            "Joan",
            "Katrina",
            "Lloid",
            "Kapp'n",
            "Kapp'n (Wild World)",
            "Able Sisters",
            "Blathers",
            "Celeste",
            "Harriet",
            "Brewster",
            "Lyle",
            "Kaitlin & Katie",
            "Dr. Shrunk",
            "Frillard",
            "Kicks",
            "Zipper T. Bunny",
            "Serena",
            "Cyrus & Reese",
            "Leif (Animal Crossing)",
            "Digby",
            "Lottie",
            "Bass",
            "Dr. Light",
            "Roll",
            "Beat",
            "Auto",
            "Duo",
            "Dr. Wily",
            "Wily Capsule",
            "Mettaur",
            "Cut Man",
            "Guts Man",
            "Ice Man",
            "Bomb Man",
            "Fire Man",
            "Elec Man",
            "Metal Man",
            "Air Man",
            "Quick Man",
            "Crash Man",
            "Flash Man",
            "Wood Man",
            "Hard Man",
            "Top Man",
            "Snake Man",
            "Spark Man",
            "Shadow Man",
            "Dive Man",
            "Skull Man",
            "Gravity Man",
            "Napalm Man",
            "Dark Man 4",
            "Knight Man",
            "Wind Man",
            "Slash Man",
            "Sword Man",
            "Galaxy Man",
            "X",
            "Zero (Zero Buster)",
            "Axl",
            "Sigma",
            "MegaMan Volnutt",
            "Roll Caskett",
            "Tron Bonne",
            "MegaMan.EXE",
            "ProtoMan.EXE",
            "Geo Stelar & Omega-Xis",
            "Mega Man Zero",
            "Model X",
            "Wii Balance Board",
            "Jackknife",
            "Deep Breathing",
            "Sun Salutation",
            "Dancer",
            "Arm & Leg Lift",
            "Giga Mac",
            "Doc Louis",
            "Glass Joe",
            "Bald Bull",
            "Mr. Sandman",
            "Bear Hugger",
            "Great Tiger",
            "Von Kaiser",
            "Don Flamenco",
            "King Hippo",
            "Soda Popinski",
            "Piston Hondo",
            "Ghosts",
            "TURN-TO-BLUE",
            "Bonus Fruit",
            "Fiora",
            "Mecha-Fiora",
            "Reyn",
            "Sharla",
            "Dunban",
            "Melia",
            "Riki (Xenoblade Chronicles)",
            "Mumkhar",
            "Elma",
            "Lin",
            "Lao",
            "Tatsu",
            "Rex",
            "Pyra",
            "Mythra",
            "Nia",
            "Tora",
            "Poppi α",
            "Mòrag",
            "Zeke",
            "Wild Gunman",
            "Gangster, Lady, & Policeman",
            "Chun-Li (Street Fighter Alpha)",
            "Blanka",
            "Zangief",
            "Guile",
            "Balrog",
            "Vega",
            "Sagat",
            "M. Bison",
            "Cammy",
            "Fei Long",
            "Dee Jay",
            "T. Hawk",
            "Akuma",
            "Nash",
            "Dan",
            "Sakura (Street Fighter)",
            "Gen",
            "Karin",
            "Cody",
            "Juri",
            "Gomorrah",
            "Madama Butterfly",
            "Jeanne",
            "Luka",
            "Cereza",
            "Loki",
            "Balder",
            "Masked Lumen",
            "Prophet",
            "Affinity",
            "Inspired",
            "Fortitudo",
            "Alraune",
            "Li'l Judd",
            "Squid Sisters",
            "Off the Hook",
            "Sheldon",
            "Annie",
            "Jelonzo",
            "Crusty Sean",
            "Jelfonzo",
            "Bisk",
            "Murch",
            "Cap'n Cuttlefish",
            "Octoling",
            "Zapfish",
            "Great Zapfish",
            "Octoling Girl & Octoling Boy",
            "Octoling Octopus",
            "Trevor C. Belmont",
            "Maria Renard",
            "Alucard",
            "Reinhardt Schneider",
            "Nathan Graves",
            "Hugh Baldwin",
            "Juste Belmont",
            "Yoko Belnades",
            "Leon Belmont",
            "Julius Belmont",
            "Hector (Castlevania)",
            "Jonathan Morris",
            "Charlotte Aulin",
            "Shanoa",
            "Gabriel Belmont",
            "Medusa Head",
            "Mummy",
            "The Creature & Flea Man",
            "Death",
            "Carmilla",
            "Werewolf",
            "Shaft",
            "Kid Dracula",
            "Sebastian Tute",
            "Party Phil",
            "Dark Emperor",
            "Iris Archwell",
            "Gold Bone",
            "Coraline",
            "Shinobu",
            "Crispin",
            "Nico Fire",
            "Monita",
            "Sandbag",
            "Smash Ball",
            "Duon",
            "Tabuu",
            "Master Giant",
            "Master Beast",
            "Master Edges",
            "Fighting Alloy Team",
            "Primid",
            "Mite",
            "Bytans",
            "Shadow Bug",
            "Ancient Minister",
            "Pitcher & Batter",
            "Tennis Player",
            "Tamagon",
            "Devil",
            "Urban Champion Fighter",
            "Bubbles",
            "Unira",
            "Excitebike",
            "Balloon Fighter",
            "Fish",
            "Mach Rider",
            "Diskun",
            "Takamaru",
            "Volleyball Player",
            "Donbe & Hikari",
            "Hockey Players",
            "MONSTER",
            "Tank & Infantry",
            "Andy",
            "Eagle",
            "Olaf",
            "Ayumi Tachibana",
            "Goku & Chao",
            "Sukapon",
            "Yakuman Player",
            "Commander",
            "Frog & Snake",
            "Prince Richard",
            "Muddy Mole",
            "Maruhige Shop Owner",
            "Satoru",
            "Dr. Wright",
            "ST Falcon",
            "F-Type",
            "Tractor Trailer",
            "Lip",
            "Dion, Max, & Jack",
            "Hakkun",
            "Girl from Hajimari no Mori",
            "Harry",
            "Ryota Hayami",
            "Akari Hayami",
            "Ray Mk II",
            "Flare",
            "Bayonette",
            "Saki Amamiya",
            "Isa Jo",
            "Alessandro Inzaghi",
            "Isaac",
            "Garet",
            "Ivan",
            "Mia",
            "Felix",
            "Jenna",
            "Matthew",
            "Magical Vacation Protagonists",
            "Putty",
            "Mokka",
            "DeMille",
            "Tomatrio",
            "Starly",
            "Moe",
            "Old Man Lobber",
            "Mermaid",
            "Mattel",
            "Cupid",
            "Li'l Blue",
            "Yama",
            "Pocket Football Player",
            "Karate Joe",
            "Sick Beats Doctor",
            "The Chorus Kids",
            "Munchy Monk",
            "Reporter & Wrestler",
            "Baxter & Forthington",
            "Sumo Brothers",
            "Pig",
            "Alexandra Roivas",
            "Mappo",
            "Sagi",
            "Milly",
            "Chibi-Robo",
            "Telly",
            "Drake Redcrest",
            "Chibi-Tot",
            "Ashley Robbins",
            "Dr. Kawashima",
            "Dr. Lobe",
            "Ouendan",
            "Ouendan Cheerleaders",
            "Elite Beat Agents",
            "Elite Beat Divas",
            "Satoru Amatsubo",
            "Warrior Mech Gauss",
            "Kyle Hyde",
            "Kurikin",
            "Hsien",
            "Magkid",
            "Aisya",
            "Num Diddly",
            "Idea",
            "Welt",
            "T-Rex",
            "Nibbles",
            "Glory of Heracles Hero",
            "Heracles",
            "Chef (Personal Trainer: Cooking)",
            "Shop Assistant",
            "Vince",
            "Looksley",
            "Prince Saruno",
            "Mio & Mayu Amakura",
            "Yuri Kozukata",
            "Nick",
            "Raymond Bryce",
            "Orville",
            "Frey & Freya",
            "Ando Kensaku",
            "Zip",
            "Zael",
            "Calista",
            "Aeron",
            "Elena",
            "Toy Poodle",
            "French Bulldog",
            "Mallo",
            "Sakura Samurai",
            "Nikki",
            "Noise",
            "Dillon",
            "Russ",
            "Plague Knight",
            "King Knight",
            "Specter Knight",
            "Culdra",
            "Allen",
            "Tempo",
            "Eddy",
            "Kageshina Kurabe",
            "Inuji Darumeshi",
            "Rusty Slugger",
            "Arcade Bunny",
            "Qbby",
            "Henry Fleming",
            "Tethu",
            "Esna",
            "Musashi",
            "Wonder-Blue",
            "Rayman",
            "Clip & Snip",
            "Spring Man",
            "Ribbon Girl",
            "Min Min",
            "Twintelle",
            "Ninjara",
            "Boss Galaga",
            "Bomberman",
            "Akira",
            "Shantae",
            "Risky Boots",
            "Partner Pikachu",
            "Partner Eevee",
            "Dice Block",
            "River Survival",
            "Golden Dash Mushroom",
            "Toy-Con Robot",
            "Toy-Con Car",
            "Professor Riggs & Plaise & Lerna",
            "Toy-Con VR Goggles",
            "Peachette",
            "Link (Link's Awakening)",
            "Owl",
            "Radiant Gleam",
            "Kloster (Grief)",
            "Bullet Walker (Brigadier General)",
            "High Line (Guns Empress)",
            "I-Tetrimino",
            "T-Tetrimino",
            "S-Tetrimino & Z-Tetrimino",
            "L-Tetrimino & J-Tetrimino",
            "O-Tetrimino",
            "acian & Zamazenta",
            "Grookey, Scorbunny, & Sobble",
            "Corviknight",
            "Morpeko",
            "Wesker",
            "Leon",
            "Chris",
            "Jill",
            "ASTRAL CHAIN Hero (Female)",
            "ASTRAL CHAIN Hero (Male)",
            "Kyle",
            "Lappy",
            "Kunio",
            "Riki (River City)",
            "Goda",
            "Ryuichi & Ryuji",
            "Cuphead",
            "Mugman",
            "The Devil (Cuphead)",
            "King Dice",
            "Lotus",
            "Ring Fit Trainees",
            "Dragaux",
            "Ring",
            "Orville & Wilbur",
            "C.J.",
            "Flick",
            "Daisy Mae",
            "Duran & Angela",
            "Kevin & Charlotte",
            "Hawkeye & Riesz",
            "Alfyn & Therion",
            "Tressa & Cyrus",
            "H'aanit & Ophilia",
            "Olberic & Primrose",
            "Peach (Paper Mario: The Origami King)",
            "Olivia",
            "King Olly",
            "Diminutive Guardian",
            "Impa (Age of Calamity)",
            "Master Kohga",
            "Seth & Gloria",
            "Elvis & Adelle",
            "Sophia",
            "Arthur",
            "Palico",
            "Palamute",
            "Magnamalo",
            "Fury Bowser",
            "Giga Cat Mario",
            "Kittens",
            "Razewing Ratha",
            "Sakuna",
            "Kokorowa",
            "Tama",
            "Mario (Mario Golf: Super Rush)",
            "Luigi (Mario Golf: Super Rush)",
            "Peach (Mario Golf: Super Rush)",
            "Travis Touchdown",
            "FU (Jess-Baptiste VI)",
            "Samus (Metroid Dread)",
            "E.M.M.I.",
            "Chozo Soldier",
            "Evil Ryu",
            "Rauru",
            "Deep Cut",
            "Noah & Mio",
            "Oatchi",
            "The 13 Sentinel Pilots",
            "Power Pro-Kun, Aoi Hayakawa, & Mamoru Ikari",
            "Zagreus",
            "Koraidon & Miraidon",
            "Ogerpon",
            "Terapagos",
            "Sprigatito, Fuecoco, & Quaxly",
            "Peach & Stella",
            "Elephant Mario",
            "Swordfighter Peach",
            "Wonder Flower & Talking Flower",
        ]

    @functools.cached_property
    def spirit_battles_fighter_pass_1(self) -> List[str]:
        return [
            "Phantom Thieves of Hearts",
            "Igor",
            "Caroline & Justine",
            "Morgana",
            "Ryuji Sakamoto",
            "Ann Takamaki",
            "Yusuke Kitagawa",
            "Makoto Niijima",
            "Futaba Sakura",
            "Haru Okumura",
            "Goro Akechi",
            "Hero's Comrades",
            "Cetacea",
            "Slime (Dragon Quest)",
            "Dracky",
            "Golem",
            "Great Sabrecub",
            "Liquid Metal Slime",
            "Tooty",
            "Bottles",
            "Mumbo Jumbo",
            "Jinjos",
            "Jiggy",
            "Gruntilda",
            "Buzzbomb",
            "Tockles",
            "Andy Bogard",
            "Joe Higashi",
            "Kim Kaphwan",
            "Geese Howard",
            "Ryo Sakazaki",
            "Kyo Kusanagi",
            "Iori Yagami",
            "Haohmaru",
            "Nakoruru",
            "Athena Asamiya",
            "Ralf & Clark",
            "Edelgard",
            "Dimitri (Fire Emblem)",
            "Claude",
            "Sothis",
            "Rhea",
            "Seteth",
            "Dorothea",
            "Ingrid",
            "Hilda (Fire Emblem)",
        ]

    @functools.cached_property
    def spirit_battles_fighter_pass_2(self) -> List[str]:
        return [
            "Master Mummy",
            "Mechanica",
            "Byte & Barq",
            "Kid Cobra",
            "Helix",
            "Max Brass",
            "Zombie",
            "Creeper",
            "Skeleton",
            "Slime (Minecraft)",
            "Enderman",
            "Villager & Iron Golem",
            "Ghast",
            "Piglin",
            "Ender Dragon",
            "Tifa",
            "Barret",
            "Aerith",
            "Red XIII",
            "Cid",
            "Cait Sith",
            "Yuffie",
            "Vincent",
            "The Turks & Rufus Shinra",
            "Bahamut ZERO",
            "Chocobo & Moogle",
            "Shiva",
            "Ifrit",
            "Lora",
            "Amalthus",
            "Jin",
            "Malos",
            "Pneuma",
            "Heihachi Mishima",
            "Jin Kazama",
            "Kuma & Panda",
            "Nina Williams",
            "King & Armor King",
            "Ling Xiaoyu",
            "Paul Phoenix & Marshall Law",
            "Yoshimitsu",
            "Jack-7",
            "Asuka Kazama",
            "Riku",
            "Kairi",
            "Roxas",
            "Axel",
            "Xion",
            "Terra",
            "Ventus",
            "Aqua",
        ]

    def spirit_battles(self) -> List[str]:
        spirit_battles: List[str] = self.spirit_battles_base[:]

        if self.has_dlc_fighter_pass_1:
            spirit_battles.extend(self.spirit_battles_fighter_pass_1)

        if self.has_dlc_fighter_pass_2:
            spirit_battles.extend(self.spirit_battles_fighter_pass_2)

        return sorted(spirit_battles)

    @staticmethod
    def boss_battle_difficulties() -> List[str]:
        return [
            "Very Easy",
            "Easy",
            "Normal",
            "Hard",
        ]


# Archipelago Options
class SuperSmashBrosUltimateDLCOwned(OptionSet):
    """
    Indicates which Super Smash Bros. Ultimate DLC the player owns, if any.
    """

    display_name = "Super Smash Bros. Ultimate DLC Owned"
    valid_keys = [
        "Fighter Pass 1",
        "Fighter Pass 2",
    ]

    default = valid_keys


class SuperSmashBrosUltimateIncludeSpiritBattles(Toggle):
    """
    Indicates whether to include Super Smash Bros. Ultimate Spirit Battles when generating objectives.
    """

    display_name = "Super Smash Bros. Ultimate Include Spirit Battles"


class SuperSmashBrosUltimateIncludeBossBattles(Toggle):
    """
    Indicates whether to include Super Smash Bros. Ultimate Boss Battles when generating objectives.
    """

    display_name = "Super Smash Bros. Ultimate Include Boss Battles"
